학습개요
셸 스크립트에서 선택과 반복을 위한 제어 구조를 사용할 수 있다.
선택 구조인 if 명령과 case 명령, 반복 구조인 for, while, until 명령의 문법과 의미를 살펴본다.
그리고 조건 검사가 필요할 때 사용되는 명령과 수식의 작성법을 학습한다.

학습목표
선택 구조를 사용하여 셸 스크립트를 작성할 수 있다.
반복 구조를 사용하여 셸 스크립트를 작성할 수 있다.
수식을 포함하는 셸 명령을 선택과 반복 구조에서 사용할 수 있다.

정리하기
if와 case 명령은 셸 스크립트에서 선택을 위한 제어 구조이다.
for, do, until 명령은 셸 스크립트에서 반복을 위한 제어 구조이다.
조건 검사가 필요할 때, 명령의 종료 상탯값이 0인 경우를 참으로 판단한다.
test 명령은 파일의 속성 검사, 정수나 문자열 비교에 사용되는 명령이다.
let 명령은 일반적 수식을 계산하는 명령이며, 조건 검사에도 사용되는데 수식의 결과가 0이면 거짓으로 간주된다.

1. 선택 구조
 제어구조
 - 셸 스크립트에서 실행을 제어하기 위해 선택과 반복 구조 사용함
 - if, for, case, while, until

 if 명령
 - 프로그래밍 언어에서 if문의 기능을 수행하는 복합 명령
 - 문법
  if command...; then
        command...
        [dlif command...; then
                command...]...
        [else
                command...]
        fi
 - 세미콜론은 같은 라인에서 다른 단어(then, elif, else, fi등)와 구분이 필요할 때 사용
 - if 다음의 명령을 실행하여 참이면 then 다음의 명령을 실행함(if 명령은 종료됨)
  if 나 elif 다음에 조건검사를 위한 test명령을 사용할 수 있음
  if 나 elif 다음에 여러 명령이 나오면 마지막 명령의 종료 상태값으로 참거짓 구분
  종료 상태값 0은 성공적 종료를 의미하며 참으로 간주
 - 거짓이면 elif 다음의 명령을 실행하여 참/거짓을 판단하고 실행함
 - 만족되는 것이 없으면 else 다음의 명령 실행

 test 명령
 - 조건검사를 위해 사용하는 명령
  조건이 만족되면 종료 상태값으로 0 아니면 1 을 리턴
 - test expression 또는 [ expression]
  expression 은 파일 상태 검사, 문자열 비교, 정수비교를 위한 조건 수식
  대괄호와 expression 사이 공백이 있어야 함

 case 명령
 - 다중 선택을 지원하는 복합 명령
  Java언어에서 switch 문의 의미와 유사
 - 문법
  case word in
        [pattern [|parttern]...) command...;;]...
  esac
 - 설명
  word 부분을 먼저 확장하고 pattern 과 매칭되는지 검사
  매칭이 이루어지면 상응하는 명령 실ㄹ행
  일단 매칭이 이루어지면 이후의 매칭 시도는 없음
  pattern 에서 *는 프로그래밍 언어에서 'default' 키워드를 사용 하는 것과 같음
 - 사용 예
  pattern)
  a)                a인 경우
  [[:alpha:]])      1개의 알파벳 문자인 경우
  ???)              임의의 세글자인 경우
  *.txt)            .txt로 끝나는 경우
  [aeiou])          모음에 해당하는 영문 소문자가 1개인 경우
  [ABE][0-9])       앞 글자가 A, B, E 중 하나이고 다음 글자가 숫자인 두 글자
  *)                임의 길이 문자와 매칭, case명령에서 마지막 패턴으로 사용하는게 좋음

2. 반복 구조
 for 명령
 - 모든 데이터를 한 차례씩 처리하는 제어구조
 - 문법
  for variable [in word...]; do
        command
  done
 - 설명
  word... 부분을 먼저 확장
  word... 에 존재하는 값을 순차적으로 변수 variable에 대입하고 do done 사이의 명령 수행
  word 부분이 없다면 in"$@" 가 있는 것으로 가정

 - C나 JAVA 프로그래밍에서 사용하는 형태
 - 문법
  for ((exp1; exp2; exp3 )); do
        command...
  done
  - 설명
   exp1~exp3 은 수식으로 어떤 것도 생략 가능
   exp1 은 제어 변수의 초기화를 위해 한 번 수행
   exp2 가 참인 동안 명령과 exp3이 반복 수행

 while명령
 - 조건이 참인 동안 명령을 반복 수행
 - 문법
  while command...; do
        command...
  done
 - 설명
  while 다음에 나오는 명령을 실행하여 참 또는 거짓 판단
  if 명령과 마찬가지로 종료 상탯값이 0이면 참으로 판단
  조건 비교를 위해 while 다음에 test expression 또는  [ expression] 을 자주 사용

 for 명령과 while 명령
 - C언어 형식의 for명령을 다음과 같이 변환 할 수 있음
 - 문법
  ((exp1))
    while((exp2)); do
        command...
        ((exp3))
    done
 - 설명
  (( expression)) 은 수식 계산에 사용하는 복합 명령
  let "expression"과 동일하며 test 명령 대신에 사용 가능
  조건 비교를 위해 test expression 또는 [ expression] 와 함께 자주 사용
  while 다음의 (( expression)) 에서 수식 결과가 0이 아닌 경우, 종료 상태값이 0이 되며 참으로 판단

 until 명령
 - 조건이 만족될 때 까지 (거짓인 동안) 명령을 반복하여 수행
 - 문법
  until command...; do
        command...
  done
 - 설명
  until 다음에 나오는 명령이 참이 될 때 까지 반복
  조건을 표시하기 위해 test expression, [ expression] 또는 (( expression)) 을 사용 가능

