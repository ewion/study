학습개요
여러 JSP 페이지에서 공통으로 사용되는 부분을 별도의 JSP 페이지로 만드는 것을 모듈화라고 한다.
액션 태그와 공통 스크립트 요소를 모듈화할 때 사용되는 include 지시어를 학습한다.
또 액션 태그 의 사용법과 파라미터의 추가 전송에 사용되는 액션 태그를 학습한다.

학습목표
액션 태그를 사용하여 모듈화 할 수 있다.
include 지시어를 사용하여 모듈화 할 수 있다.
액션 태그를 사용할 수 있다.
액션 태그의 사용법을 설명할 수 있다.

정리하기
<jsp:include> 액션 태그는 지정된 페이지의 실행 결과를 응답 결과에 포함시킬 때 사용한다.
include 지시어는 지정된 파일의 내용 자체를 변환 작업 전에 삽입시키는 기능을 수행한다.
<jsp:forward> 액션 태그는 하나의 JSP 페이지에서 다른 JSP 페이지로 강제 이동시킬 때 사용한다.
<jsp:param> 태그는 <jsp:include>나 <jsp:forward>의 서브 요소로 사용되는 태그로서 추가로 요청 파라미터를 지정된 페이지에 넘겨주는 기능을 수행한다.
<jsp:forward>를 수행하기 전에 클라이언트로 전송된 적이 있다면 예외가 발생한다.

1. <jsp:include> 액션태그
 JSP콘텐츠의 재사용
 - 정적 include 방법
  include 지시어
  번역 과정에서 파일의 내용인 텍스트 자체를 포함시킬때 사용
 - 동적 include 방법
  <jsp:include> 액션태그 사용

 <jsp:include> 액션태그
 - 지정한 페이지를 태그가 위치한 부분에 포함시키되, 해당 페이지의 실행 결과도 포함시킬 때 사용
 - 요청이 처리될 때, 즉 JSP페이지가 실행될 때 처리됨
 - 동적 페이지의 포함
  including 페이지에서 요청이 보내지고, included 페이지가 실행된 후 그 결과가 including 페이지의 응답에 포함되는 것
  included 페이지의 실행 결과를 포함 한 후 including 페이지가 다시 실행됨
  flush 속성이 true이면 출력 버퍼의 내용이 먼저 클라이언트로 전송된 후 결과가 포함됨
  flush 속성이 false면 출력 버퍼에 결과가 추가됨

 JSP 페이지의 모듈화
 - 공통으로 사용되는 부분, 예를들어 웹페이지의 상단메뉴 로그인바 등을 코드의 중복을 피하기 위해 분리할 필요가 있음
 - 중복되는 코드를 별도 페이지로 만들고 <jsp:include>를 사용하여 각 페이지에 삽입

2. <jsp:param> 액션태그
 <jsp:param> 액션태그의 사용
 - <jsp:include> 나 <jsp:foward>를 사용할 때 요청이 전달됨
 - <jsp:foward>태그를 사용하면 요청이 전달 될 때 파라미터를 추가할 수 있음, 원래 요청에 포함되었던 파라미터에 추가로 덧븉여짐
 - <jsp:include> 나 <jsp:foward>의 서브 엘리먼트로 사용

 파라미터의 우선 순위
 - <jsp:param> 태그와 파라미터 우선 순위
  <jsp:include> 나 <jsp:foward> 를 수행할 때 기존 파라미터보다 <jsp:param> 태그에서 정의한 파라미터가 우선
  <jsp:param> 태그에서 한글사용하는경우  request.setCharacterEncoding("UTF-8")을 적용한 후 전달

3. include 지시어
 include 지시어
 - 지정된 파일의 소수코드나 텍스트를 지시어 위치에 삽입시키는것
  JSP페이지를 서블릿 프로그램으로 변환시키기 전에 삽입
 - JSP페이지에서 공통으로 사용되는 스크립트 요소를 포함시킬 때 사용
  공통으로 사용되는 변수나 메소드 정의를 포함시킬때
  변수나 메소드정의는 독립적으로 실행될수없으므로 include 지시어로 포함시킴

 include 지시어와 include 액션태그
 - <jsp:include> 액션태그와의 차이점
  include지시어는 단순히 텍스트 포함
  <jsp:include>는 included 페이지의 실행결과를 포함

  include 지시어를 사용하는 경우, included 페이지에서 사용된 스크립트 요소가 included 페이지에 영향줄수있음
  <jsp:include>를 사용하는 경우 영향주지못함
  <jsp:include>액션태그는 JSP페이지를 모듈화하여 구성할 때 사용하고, include 지시어는 공통의 스크립트 요소 정의시 사용

4. <jsp:forward> 액션태그
 하나의 JSP페이지에서 다른 페이지로 강제이동 시키는것
  ex) <jsp:foward page="이동할 페이지URL"/>
 원래 페이지에서 사용된던 request 개본객체와 response 기본객체가 이동 페이지로 넘어감
  원래 페이지 실행은 포워딩되면서 종료됨, 버퍼내용 지워짐
  원래페이지 대신하여 다른페이지 실행함
  이동전과 후의 두페이지는 같은 request 영역에 존재함
 웹 브라우저 주소란에는 원래페이지의 URL이 남아있음
  클라이언트는 강제이동을 알수없음

 <jsp:foward> 액션태그와 버퍼의 사용
 - 버퍼링 사용
  포워딩 전에 버퍼의 내용을 모두 지움
  포워딩 전에 이미 버퍼가 차서 클라이언트에게 전송된적이있으면 예외발생
 - 버퍼링 사용X
  포워딩 전에 이미 클라이언트에게 결과를 전송한 적이 있다면 예외 발생
  사실상 <jsp:forward>를 사용하려면 버퍼 써야함

 <jsp:foward> 액션태그와 파라미터
 - <jsp:include>와 마찬가지로 <jsp:param>을 사용하여 파라미터를 추가로 전달할수있음

 파라미터값의 데이터 타입
 - <jsp:param>을 통해 전달되는 데이터는 String 으로 제한
 - 만약 다른종류의 데이터 전달하려면 request 내장 객체에 속성저장후 전달하면됨

