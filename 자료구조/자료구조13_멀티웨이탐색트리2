학습개요
13장은 트리를 다루는 마지막 장입니다. 지금까지 배운 내용을 간략하게 정리해 봅시다.
7장에서 일반적인 트리를 정의하고 이어서 차수가 2인 즉, 자식을 두 개만 갖는 이진 트리를 다루었습니다.
그리고 여러 가지 확장된 이진 트리에 대해 11장까지 소개했습니다. 특히 11장에서는 이진 탐색 트리와 그것을 개선한 트리들에 대해 배웠습니다.
이때까지 우리는 자식을 2개 까지만 허용하는 이진 트리를 줄 곧 다뤘지요. 그리고 12장에서 마침내 m 차수가 허용되는 멀티웨이 탐색 트리를 정의했습니다.
그리고는 곧바로 균형에 대한 제약을 갖는 B 트리 계열을 설명했지요. 그런 모든 변형 들은 결국 탐색을 효율적으로 하는 것을 위한 것들이었습니다.
이 장에서도 앞 장과 마찬가지로 균형을 유지하는 다른 탐색 트리에 대해 배워보도록 하겠습니다.

학습목표
2-3 트리를 설명하고 탐색, 삽입, 삭제 연산을 수행할 수 있다.
2-3-4 트리를 설명하고 탐색, 삽입, 삭제 연산을 수행할 수 있다.
레드 블랙 트리를 설명하고 탐색, 삽입, 삭제 연산을 수행할 수 있다.

정리하기
차수가 2인 노드를 2-노드, 3인 노드를 3-노드라 합니다.
2-노드와 3-노드만으로 구성한 트리를 2-3 트리라 합니다. 이 트리는 균형이 잡힌 B 트리 계열과 거의 같은 성능을 유지하면서도 상대적으로 삽입과 삭제가 용이합니다.
2-노드, 3-노드, 및 4-노드만으로 구성한 트리를 2-3-4 트리라 합니다. 이 트리는 2-3트리와 같은 특성을 갖습니다. 대신 같은 수의 노드를 더 낮은 레벨로 구축할 수 있습니다.
2-3-4 트리는 4노드를 갖기 때문에 경우에 따라서는 기억 장소를 낭비할 수 있습니다. 기억장소를 효율적으로 사용하기 위해 2-3-4 트리를 이진 트리로 나타낸 것이 레드 블랙 트리입니다.

1. 2-3트리
 개요
 - 차수가 2 또는 3인 내부 노드를 갖는 탐색 트리
 - 2-노드(2개의 자식노드, 차수가 2) 와
   3-노드(3개의 자식노드, 차수가 3) 만으로 구성되는 특수한 형태의 B트리
 - 2-노드 혹은 3-노드라는 제약이 내부 노드에만 해당함
  모든 잎 노드는 같은 레벨에 있어야 한다는 제약만 존재함

 조건
 - 각각의 내부 노드는 2-노드거나 3-노드이다
   2-노드는 1개의 키 값을 3-노드는 2개의 키값을 갖는다
 - lchild, mchild를 각각 2-노드의 왼쪽 자식 및 중간 자식이라 하고 lkey가 2-노드의 키값이라고 가정
   그러면 루트가 lchild인 모든 2-3 서브트리 키 값은 lkey보다 작고, 루트가 mchild인 모든 2-3 서브트리 키 값은 lkey보다 크다
 - lchild, mchild, rchild를 각각 3-노드의 왼쪽 중간 및 오른쪽 자식이라 하고 lkey 및 rkey를 이 노드의 두 키 값이라 하면 다음이 성립한다
  lkey > rkey
  루트가 lchild인 모든 2-3서브트리 키 값은 lkey보다 작다
  루트가 rchild인 모든 2-3서브트리 키 값은 rkey보다 작고, lkey보다 크다
  루트가 rchild인 모든 2-3서브트리 키 값은 rkey보다 작다
 - 모든 잎 노드는 같은 레벨에 있다

 2-3 트리의 삭제
 - 2-3 트리의 삭제에서 잎 노드가 아닌 노드의 키를 삭제하면 그곳을 다른 키로 삭제해야 함
 - 일반적으로 삭제한 키의 왼쪽 서브 트리에서 가장 큰 키 값이나 오른쪽 서브 트리에서 가장 작은 키 값을 선택하여 대체함

2. 2-3-4트리
 정의
 - 2-3 트리를 확장하여 4개의 자식을 가진 4-노드를 허용하는 탐색 트리
 - 2-3-4 트리는 2-3트리보다 삽입과 삭제가 용이
 - 2-3-4 트리에서는 2-노드와 3-노드에 대한 트리재구성 확률이 2-3트리에서보다 작기 때문에 삽입 및 삭제 연산을 수행하는데 더 효율적임

 삽입 연산
 - 2-3-4 트리에서 2-노드와 3-노드에 대한 트리 재구성의 확률이 2-3트리에서보다 작기 때문에 삽입/삭제 연산이 효율적임
 - 삽입 연산의 문제가 되는 4-노드는 그위치에 따라 세 가지 경우로 구분하여 분리함
  1. 4-노드가 루트인 경우
  2. 4-노드의 부모가 2-노드인 경우
  3. 4-노드의 부모가 3-노드인 경우

3. 레드 블랙 트리
 정의
 - 효율적인 기억장소 사용을 위해 2-3-4 트리를 이진 트리로 나타낸 탐색 트리
 - 레드 간선과 블랙 간선의 서브 트리 포인터를 가짐
 - 레드 간선은 2-3-4 트리의 한 노드 내에 있던 노드의 관계이고,
   블랙 간선은 2-3-4 트리의 부모-자식 관계임
 - 레드 블랙 트리의 탐색 방법은 보통의 이진 탐색 트리의 탐색 알고리즘과 동일