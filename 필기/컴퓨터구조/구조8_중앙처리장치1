학습개요
이번 강의에서는 중앙처리장치의 구조에 대해 알아본다. 중앙처리장치의 구성요소들과 레지스터의 종류, 그 역할에 대해 살펴보고 명령어 사이클에 대해 학습한다.

학습목표
중앙처리장치의 내부구조를 통해 동작원리를 이해한다.
중앙처리장치의 구성요소들의 각 역할을 이해한다.
레지스터들의 기능들을 이해한다.
명령어 사이클을 통하여 명령어의 세부적인 수행과정을 이해한다.

주요용어
범용 레지스터 : CPU내에서 데이터를 임시적으로 저장하는 레지스터
특수 레지스터 : CPU내에서 특수한 용도로 사용되는 레지스터
프로그램카운터(PC) : 다음에 수행될 명령어의 주소를 보관하고 있는 레지스터
명령어 레지스터(IR) : 가장 최근에 인출된 명령어를 보관하고 있는 레지스터
누산기(AC) : 연산 결과를 임시적으로 보관하는 레지스터
기억장치 주소 레지스터(MAR) : 기억장치의 주소를 임시 보관하는 레지스터
기억장치 버퍼 레지스터(MBR) : 기억장치로 쓰여 지거나 읽혀질 데이터를 임시 보관하는 레지스터
스택 포인터(SP) : 스택영역의 번지를 지정해주는 레지스터
명령어 사이클 : 한 개의 명령어가 CPU에서 수행되는데 필요한 전체 수행 과정
인출 사이클 : 기억장치에 기억되어 있는 명령어를 인출하는 과정
실행 사이클 : 인출된 명령어를 실행하는 과정
간접 사이클 : 간접주소지정방식을 사용하는 명령어에서 오퍼랜드 부분의 유효 주소를 결정하는 데 사용되는 과정
인터럽트 사이클 : 실행 사이클이 끝난 직후에 인터럽트가 발생했는지를 검사하여, 발생하였다면 인터럽트 서비스 루틴(ISR : interrupt service routine)이 시작되도록 하는 과정

1. 중앙처리장치의 개요
 중앙처리장치(CPU)
 - 컴퓨터에서 명령어를 수행하고 데이터를 처리하는 장치
 - 프로그램이 수행되는 전반적인 과정을 제어
 - 처리장치와 제어장치로 구성

 중앙처리장치의 구성요소
 - 산술논리연산장치
 - 레지스터 세트
 - 제어장치
 - 내부버스

2. 중앙처리장치의 내부구조
 내부구조
 - 처리장치 : 내부구조 + ALU
 - 제어장치
 - 내부버스로 처리,제어장치 연결

 산술논리연산장치
 - 구성요소 : 산순열산장치, 논리연산장치, 시프터, 상태레지스터 ,보수기
  상태레지스터 : 연산결과의 상태를 나타내는 플래그를 저장하는 레지스터
  보수기 : ALU내의 데이터에 대해 보수연산을 수행

 레지스터 세트
 - 여러개의 레지스터들의 집합
 - 기억장치 중 엑세스 속도가 가장 빠름
 - 따라서 CPU에서 빠른 처리속도 지원
 - 빠른 속도를 갖지만 가격이 비싸므로 CPU내의 레지스터 수는 제한됨

 제어장치
 - 프로그램에 의한 연산의 순서대로 기억장치, 연산장치, 입출력장치에 제어신호를 발생한다
 - 제어장치의 동작
  1단계 : 명령어를 해독하고 명령어 레지스터에 저장
  2단계 : 명령어 레지스터에 저장된 명령어 실행

 내부버스
 - ALU 와 레지스터 간의 데이터 전송을 위한 통로, 데이터버스와 제어버스로 구성
 - 외부장치(기억장치,입출력장치)와 데이터 전송
  시스템 버스와 연결, 시스템 버스는 데이터, 주소, 제어버스로 구성

3. 레지스터
 레지스터의 종류
 - 범용 레지스터
  데이터를 일시적으로 저장
  CPU 내부에 있는 소규모의 일시적 기억장치로 프로그램의 진행 도중 가까운 시간내에 사용할 데이터나 연산결과를 일시적으로 기억시키는 데 사용
  데이터를 연산할 때 메모리로부터 데이터를 인출한 경우 호출시간이 많이 걸리기 때문에 CPU 내부에 레지스터에 데이터를 기억시켜두고 연산한다.
 - 특수 레지스터
  특수한 기능을 수행

 특수 레지스터
 - 주소를 기억
  프로그램 카운터 :
   다음에 수행되어질 명령어가 있는 주소를 갖고있다, 즉 데이터가 저장되어있는 기억장치의 주소를 지정
   현재 처리하려는 데이터 인출 후에는 자동적으로 1 증가
   프로그램 카운터의 비트 수는 기억장치의 용량에 따라 결정된다
  제어 주소 레지스터
  인덱스 레지스터
  베이스 레지스터
 - 명령어 기억
  기억장치 주소 레지스터(MAR) :
   기억장치 주소를 임시 저장하는 레지스터
  스택 포인터(SP) :
   스택 주소 지정방식에 사용된다
   스택 영역의 번지를 지정해 주는 포인터
   스택 영역은 실제로 데이터가 피신되는 기억 장소로써 기억장치에 위치한다
   프로그램 카운터와 같은 크기의 비트 수를 가진다
  명령어 레지스터(IR)
   프로그램 수행중 가장 최근에 기억장치로부터 인출된 명령어를 갖고있다
   명려엉 레지스터의 비트수는 명령어의 연산코드 비트수와 같다
   명령어 레지스터에 있는 명령어는 명령어 해독기에 의해 해독된 후 그 명령어가 해당되는 제어신호가 각 구성요소에 전달된다
 - 데이터 기억
  기억장치 버퍼 레지스터(MBR)
   기억장치로 쓰여질 데이터나 혹은 기억장치로부터 읽혀질 데이터가 임시적으로 저장되는 레지스터
  누산기(AC)

4. 명령어 사이클
 개념
 - 컴퓨터의 기본적 기능은 기억장치에 기억되어있는 프로그램을 실행하는 것, 실행되는 프로그램은 명령어로 구성
 - 따라서 중앙처리장치는 기억장치에 저장되어 있는 명령어를 인출하여 실행함으로서 프로그램을 수행
 - 이러한 명령어의 수행과정을 명령어 사이클이라 함
 - 중앙처리장치에서 명령어 수행과정은 기억장치와 중앙처리장치의 레지스터들의 동작을 통해 살펴 볼 수 있다

 명령어 사이클
 - 한 개의 명령어를 CPU에서 수행하는 데 필요한 전체 수행 과정
 - 종류
  인출,실행,간접,인터럽트
 -수행 과정
    인출 : 기억장치로부터 명령어를 가져오는 과정, 인출된 명령어는 PC에 들어있고 인출된 명령어는 IR로 옮겨진다
  > 해석 : 명령어의 종류에 따라 필요한 경우 오퍼랜드의 인출이 일어난다
  > 실행 : 간접주소지정인 경우 기억장치로부터 데이터가 들어있는 유효주소 인출
  > 저장 : 명령어 실행단계에서 수행된 연산결과가 레지스터 혹은 기억장치에서 쓰여지는 과정
  > 인터럽트 처리 : 명령어 실행 도중 입출력장치와 같은 다른 장치에 의해 인터럽트가 들어오면 그에 합당한 서비스를 제공하는 과정
