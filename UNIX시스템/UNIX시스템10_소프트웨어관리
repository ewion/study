학습개요
소프트웨어의 설치와 관리를 위한 패키지 관리 도구를 학습한다.
RPM은 레드햇 계열 리눅스에서 패키지 파일의 표준 형식이자 패키지 관리 도구이다.
DNF는 저장소 기반의 설치 기능을 제공하며 패키지 의존성 문제를 해결한 고수준의 관리 도구이다.
RPM과 DNF의 사용법을 학습하고 파일 압축과 아카이브 명령을 살펴본다.

학습목표
패키지 관리 도구의 필요성을 설명할 수 있다.
RPM을 이용한 패키지 관리 방법의 문제점을 설명할 수 있다.
DNF를 사용하여 소프트웨어 패키지를 관리할 수 있다.
압축을 적용하여 아카이브 파일을 만들 수 있다.

정리하기
RPM은 레드햇 계열 리눅스에서 패키지 파일의 형식이자 기본 패키지 관리 도구이다.
패키지를 설치할 때 선행 패키지가 먼저 설치되어야 하는 의존성 문제가 존재한다.
DNF는 저장소에 기초한 패키지 설치 기능을 제공하고 의존성 문제를 해결한 고수준 관리 도구이다.
gzip과 bzip2는 파일의 압축과 해제를 수행하는 프로그램이다.
tar 명령은 주어진 여러 파일을 묶어 아카이브 파일로 묶는 기능을 제공한다.

1. 패키지 관리
 소프트웨어 패키지 관리
 - 소프트웨어 설치, 업데이트, 삭제등의 관리 작업
 - 패키지 관리 도구를 사용하는 것이 편리함
  리눅스 초기에는 소스프로그램을 가져와 적당한 디렉터리 구조를 만들고 컴파일하고 링크하며 환경설정 작업해야했음
  컴파일되어있는 프로그램과 패키지를 다루고 관리도구를 사용하는 것이 효율적
 - 리눅스 배포판에 따라 패키징 방법이 다름
  소프트웨어 배포 표준 방법 필요
  데비안 계열은 DEB(.deb) 레드햇 개열은 RPM(.rpm)
  도구만 사용하거나 패키지 파일을 찾아 다운로드 후 설치
  패키지 파일은 패키지를 구성하는 파일들을 묶어 압축한 파일

 패키지 파일과 저장소
 - 패키지 관리 기본 단위는 '패키지 파일'
 - 바이너리 프로그램, 설정파일, 패키지의 메타데이터, 설치 스크립트 등으로 구성
  메타데이터는 패키지에 관한 정보
  설치/업데이트/삭제 또는 환경설정을 위해 스크립트 파일도 필요
 - 패키지 저장소는 배포용 패키지를 저장하고 관리하는 사이트
  고수준 패키지 관리 도구는 '저장소 설정 파일'을 통해 많은 패키지 저장소를 검색 할 수 있음

 패키지 의존성
 - 어떤 패키지 실행을 위해 다른 패키지가 필요 할 수 있음
  공유 라이브러리가 필요하다면 패키지가 그것에 의존적(종속적)이라고 함
 - 패키지를 설치할 때 선행 패키지가 이미 설치되어 있어야 하나 아니라면 함께 설치해야 함
  저수준 패키지 관리 도구 RPM 은 해당 패키지만 설치하거나 삭제
  고수준 패키지 관리 도구 YUM, DNF 는 의존성 문제를 해결
  메타데이터를 읽고 필요한 선행 패키지를 함께 설치함

2. RPM 패키지 관리자
 개요
 - 레드 햇 계열 리눅스에서 패키지 파일의 표준 형식
  패키지 파일의 이름은
  <패키지명>-<버전릴리스>.<배포판>.<아키텍처>.rpm
  ex)
  firefox-102.8.0-2.el9_1.x86_64.rpm
 - RPM Package Manager 를 의미하기도 함
  패키지가 설치되면 로컬 RPM DB에 정보가 저장
  rpm -qa , rpm -qi firefox와 같이 설치된 패키지 정보를 질의할 수 있음

 rpm 명령
 - 패키지 설치 업데이트 삭제하거나 정보확인 명령
 - rpm [option] [packages]
  옵션은 크게 설치(-i), 업데이트(-U), 삭제(-e), 질의(-q)로 분류
  설치나 업데이트 할 때에는 packages에 패키지 파일의 이름(.rpm)을 지정함
  질의를 할 때는 보통 packages에 패키지 명만 사용
 - 패키지를 설치할 때 선행 패키지가 설치되어 있지 않으면 의존성 문제로 설치 실패
  rpm 패키지 관리자를 사용할 때에는 선행 패키지를 찾아 미리 설치해야 하는 문제가 있음
  설치하고자 하는 rpm파일을 갖고 있거나 다운받을 수 있어야 함

 결론 : rpm은 현재 굳이 쓸일없음

3. DNF 패키지 관리자
 YUM
 - Yellodog Updater Modified의 약자
 - RPM 방법에 기초한 자동 패키지 설치, 업그레이드, 삭제 도구
  레드햇 리눅스 계열 배포판에서 주로 사용
  RPM 명령의 어려운 부분인 패키지 의존성 문제 해결
  선행 패키지를 검색하여 자동으로 설치 함
  저장소 기반의 설치 기능을 제공하는 고수준 패키지 관리 도구

 DNF
 - Dandifeid YUM 의 약자로 YUM의 차세대 버전
 - YUM과 호환되는 명령 행 기반, 저장소 기반의 패키지 관리도구
  빠른 설치, 효율적 의존성 처리, 직관적 명령과 처리, 패키지 무결성 관리 등에서 향상된 기능 제공
  최신 리눅스 배포판의 기본 패키지 관리자
 - 저장소 목록을 유지하여 설치 가능한 패키지 검색
  /etc/dnf/dnf.conf 또는 /etc/yum.repos.d 디렉터리에 있는 저장소 설정 파일(.repo) 에 저장소 정보 저장
  dnf repolist --enabled 명령으로 활성화된 저장소를 확인 할 수 있음

 dnf 명령
 - dnf [options] command
  command 는 dnf의 서브 명령
  command 의 인수로 패키지를 지정할 때 name, name.arch, name-ver, name-ver-rel, name-ver-rel.arch 의 형태 사용
 - 설치를 위한 수행 과정
  설정 파일을 읽음
  dnf 저장소에 있는 모든 패키지의 메타데이터가 로컬 캐시 디렉터리에 저장
  패키지의 의존성을 확인한 후 필요한 패키지를 저장소로부터 다운로드 받음
  패키지에 포함된 파일을 적당한 디렉터리에 복사하여 설치함
  설치된 패키지의 정보를 로컬 'RPM 데이터베이스'에 저장

4. 압축
 파일 압축
 - 시스템 파일이나 데이터를 백업할 때 파일 압축이 필요함
 - 압축을 통해 디스크 공간을 절약하거나 데이터 전송 시간을 줄일 수 있음
 - 다양한 압축 기술이 존재
  공간효율과 압축속도에서 차이
  gzip, bzip2, xz, zip등

 gzip
 - gzip은 압축 파일의 형식이자 파일과 압축과 해제를 위한 프로그램
  가장 널리 사용되는 리눅스의 기본 압축 프로그램
  초기 Unix 시스템의 압축 프로그램을 GNU프로젝트에서 수정한 버전
 - gzip [options] [files]
  압축 후 원본 파일은 .gz 확장자를 갖는 파일로 대체
  gzip file을 수행하면 file은 없어지고 file.gz 가 만들어짐
 - 옵션
  -c
  -d
  -r
  -t
  -v
  -number

 gunzip명령
 - .gz .Z .tgz .taz 등의 확장자를 가진 압축파일을 풀고 확장자 제거

 bzip2 명령
 - 블록 정렬 압축 알고리즘을 사용한 파일 압축 프로그램
 - gzip과 유사하나 압축 효율이 좋음(압축 속도는 느림)
  압축 후 파일 크기가 매우 작아짐(큰 파일에 사용하면 좋음)
 - 사용법은 gzip과 유사, 확장자로 .bz2를 사용

 tar 명령
 - 여러 파일을 하나의 아카이브 파일로 묶거나 아카이브 파일에서 파일을 추출하는 명령
 - tar mode [options] [tarfile] [pathnames...]
